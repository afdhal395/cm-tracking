-- MySQL Script generated by MySQL Workbench
-- Mon Apr  1 22:34:36 2019
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema trackingapp
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `trackingapp` ;

-- -----------------------------------------------------
-- Schema trackingapp
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `trackingapp` DEFAULT CHARACTER SET utf8 ;
USE `trackingapp` ;

-- -----------------------------------------------------
-- Table `trackingapp`.`state`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trackingapp`.`state` (
  `stateID` INT NOT NULL AUTO_INCREMENT,
  `stateName` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`stateID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trackingapp`.`locationType`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trackingapp`.`locationType` (
  `locationTypeID` INT NOT NULL AUTO_INCREMENT,
  `locationTypeName` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`locationTypeID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trackingapp`.`location`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trackingapp`.`location` (
  `locationID` INT NOT NULL AUTO_INCREMENT,
  `locationName` VARCHAR(45) NOT NULL,
  `stateID` INT NOT NULL,
  `locationTypeID` INT NOT NULL,
  PRIMARY KEY (`locationID`),
  INDEX `fk_location_state1_idx` (`stateID` ASC),
  INDEX `fk_location_locationType1_idx` (`locationTypeID` ASC),
  CONSTRAINT `fk_location_state1`
    FOREIGN KEY (`stateID`)
    REFERENCES `trackingapp`.`state` (`stateID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_location_locationType1`
    FOREIGN KEY (`locationTypeID`)
    REFERENCES `trackingapp`.`locationType` (`locationTypeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trackingapp`.`role`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trackingapp`.`role` (
  `roleID` INT NOT NULL AUTO_INCREMENT,
  `roleName` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`roleID`),
  UNIQUE INDEX `roleName_UNIQUE` (`roleName` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trackingapp`.`user`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trackingapp`.`user` (
  `userID` INT NOT NULL AUTO_INCREMENT,
  `username` VARCHAR(45) NOT NULL,
  `userpassword` VARCHAR(45) NOT NULL,
  `locationID` INT NOT NULL,
  `roleID` INT NOT NULL,
  PRIMARY KEY (`userID`),
  UNIQUE INDEX `username_UNIQUE` (`username` ASC),
  INDEX `fk_user_location_idx` (`locationID` ASC),
  INDEX `fk_user_role1_idx` (`roleID` ASC),
  CONSTRAINT `fk_user_location`
    FOREIGN KEY (`locationID`)
    REFERENCES `trackingapp`.`location` (`locationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_user_role1`
    FOREIGN KEY (`roleID`)
    REFERENCES `trackingapp`.`role` (`roleID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trackingapp`.`brand`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trackingapp`.`brand` (
  `brandID` INT NOT NULL AUTO_INCREMENT,
  `brandName` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`brandID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trackingapp`.`model`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trackingapp`.`model` (
  `modelID` INT NOT NULL AUTO_INCREMENT,
  `modelName` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`modelID`),
  UNIQUE INDEX `modelName_UNIQUE` (`modelName` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trackingapp`.`assetStatus`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trackingapp`.`assetStatus` (
  `assetStatusID` INT NOT NULL AUTO_INCREMENT,
  `assetStatusName` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`assetStatusID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trackingapp`.`serial`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trackingapp`.`serial` (
  `serialID` INT NOT NULL AUTO_INCREMENT,
  `serialName` VARCHAR(45) NULL,
  PRIMARY KEY (`serialID`),
  UNIQUE INDEX `serialName_UNIQUE` (`serialName` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trackingapp`.`asset`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trackingapp`.`asset` (
  `assetID` INT NOT NULL AUTO_INCREMENT,
  `brandID` INT NOT NULL,
  `modelID` INT NOT NULL,
  `serialID` INT NOT NULL,
  `locationID` INT NOT NULL,
  `assetStatusID` INT NOT NULL,
  PRIMARY KEY (`assetID`),
  INDEX `fk_asset_brand1_idx` (`brandID` ASC),
  INDEX `fk_asset_model1_idx` (`modelID` ASC),
  INDEX `fk_asset_location1_idx` (`locationID` ASC),
  INDEX `fk_asset_assetStatus1_idx` (`assetStatusID` ASC),
  INDEX `fk_asset_serial1_idx` (`serialID` ASC),
  CONSTRAINT `fk_asset_brand1`
    FOREIGN KEY (`brandID`)
    REFERENCES `trackingapp`.`brand` (`brandID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_asset_model1`
    FOREIGN KEY (`modelID`)
    REFERENCES `trackingapp`.`model` (`modelID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_asset_location1`
    FOREIGN KEY (`locationID`)
    REFERENCES `trackingapp`.`location` (`locationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_asset_assetStatus1`
    FOREIGN KEY (`assetStatusID`)
    REFERENCES `trackingapp`.`assetStatus` (`assetStatusID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_asset_serial1`
    FOREIGN KEY (`serialID`)
    REFERENCES `trackingapp`.`serial` (`serialID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trackingapp`.`sparePartType`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trackingapp`.`sparePartType` (
  `sparePartTypeID` INT NOT NULL AUTO_INCREMENT,
  `sparePartTypeName` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`sparePartTypeID`),
  UNIQUE INDEX `sparePartTypeName_UNIQUE` (`sparePartTypeName` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `trackingapp`.`sparepart`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `trackingapp`.`sparepart` (
  `sparepartID` INT NOT NULL AUTO_INCREMENT,
  `brandID` INT NOT NULL,
  `modelID` INT NOT NULL,
  `serialID` INT NOT NULL,
  `locationID` INT NOT NULL,
  `sparePartTypeID` INT NOT NULL,
  PRIMARY KEY (`sparepartID`),
  INDEX `fk_sparepart_brand1_idx` (`brandID` ASC),
  INDEX `fk_sparepart_model1_idx` (`modelID` ASC),
  INDEX `fk_sparepart_serial1_idx` (`serialID` ASC),
  INDEX `fk_sparepart_location1_idx` (`locationID` ASC),
  INDEX `fk_sparepart_sparePartType1_idx` (`sparePartTypeID` ASC),
  CONSTRAINT `fk_sparepart_brand1`
    FOREIGN KEY (`brandID`)
    REFERENCES `trackingapp`.`brand` (`brandID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_sparepart_model1`
    FOREIGN KEY (`modelID`)
    REFERENCES `trackingapp`.`model` (`modelID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_sparepart_serial1`
    FOREIGN KEY (`serialID`)
    REFERENCES `trackingapp`.`serial` (`serialID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_sparepart_location1`
    FOREIGN KEY (`locationID`)
    REFERENCES `trackingapp`.`location` (`locationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_sparepart_sparePartType1`
    FOREIGN KEY (`sparePartTypeID`)
    REFERENCES `trackingapp`.`sparePartType` (`sparePartTypeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `trackingapp`.`state`
-- -----------------------------------------------------
START TRANSACTION;
USE `trackingapp`;
INSERT INTO `trackingapp`.`state` (`stateID`, `stateName`) VALUES (1, 'Johor');
INSERT INTO `trackingapp`.`state` (`stateID`, `stateName`) VALUES (2, 'Melaka');
INSERT INTO `trackingapp`.`state` (`stateID`, `stateName`) VALUES (3, 'Negeri Sembilan');

COMMIT;


-- -----------------------------------------------------
-- Data for table `trackingapp`.`locationType`
-- -----------------------------------------------------
START TRANSACTION;
USE `trackingapp`;
INSERT INTO `trackingapp`.`locationType` (`locationTypeID`, `locationTypeName`) VALUES (1, 'Store');
INSERT INTO `trackingapp`.`locationType` (`locationTypeID`, `locationTypeName`) VALUES (2, 'School');

COMMIT;


-- -----------------------------------------------------
-- Data for table `trackingapp`.`role`
-- -----------------------------------------------------
START TRANSACTION;
USE `trackingapp`;
INSERT INTO `trackingapp`.`role` (`roleID`, `roleName`) VALUES (1, 'Admin');
INSERT INTO `trackingapp`.`role` (`roleID`, `roleName`) VALUES (2, 'Store Keeper');

COMMIT;


-- -----------------------------------------------------
-- Data for table `trackingapp`.`brand`
-- -----------------------------------------------------
START TRANSACTION;
USE `trackingapp`;
INSERT INTO `trackingapp`.`brand` (`brandID`, `brandName`) VALUES (1, 'HP');
INSERT INTO `trackingapp`.`brand` (`brandID`, `brandName`) VALUES (2, 'DELL');
INSERT INTO `trackingapp`.`brand` (`brandID`, `brandName`) VALUES (3, 'LENOVO');

COMMIT;


-- -----------------------------------------------------
-- Data for table `trackingapp`.`assetStatus`
-- -----------------------------------------------------
START TRANSACTION;
USE `trackingapp`;
INSERT INTO `trackingapp`.`assetStatus` (`assetStatusID`, `assetStatusName`) VALUES (1, 'Active');
INSERT INTO `trackingapp`.`assetStatus` (`assetStatusID`, `assetStatusName`) VALUES (2, 'Archive');

COMMIT;


-- -----------------------------------------------------
-- Data for table `trackingapp`.`sparePartType`
-- -----------------------------------------------------
START TRANSACTION;
USE `trackingapp`;
INSERT INTO `trackingapp`.`sparePartType` (`sparePartTypeID`, `sparePartTypeName`) VALUES (1, 'HDD');
INSERT INTO `trackingapp`.`sparePartType` (`sparePartTypeID`, `sparePartTypeName`) VALUES (2, 'SSHD');
INSERT INTO `trackingapp`.`sparePartType` (`sparePartTypeID`, `sparePartTypeName`) VALUES (3, 'RAM');
INSERT INTO `trackingapp`.`sparePartType` (`sparePartTypeID`, `sparePartTypeName`) VALUES (4, 'Processor');
INSERT INTO `trackingapp`.`sparePartType` (`sparePartTypeID`, `sparePartTypeName`) VALUES (5, 'ODD');
INSERT INTO `trackingapp`.`sparePartType` (`sparePartTypeID`, `sparePartTypeName`) VALUES (6, 'Keyboard');
INSERT INTO `trackingapp`.`sparePartType` (`sparePartTypeID`, `sparePartTypeName`) VALUES (7, 'Mouse');
INSERT INTO `trackingapp`.`sparePartType` (`sparePartTypeID`, `sparePartTypeName`) VALUES (8, 'Adapter');

COMMIT;

